<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="paymentMapper">

	<resultMap type="Don" id="paymentResultMap">
		<id property="donNo" column="DON_NO"/>
		<result property="donPrice" column="DON_PRICE"/>
		<result property="userNo" column="USER_NO"/>
		<result property="menuName" column="MENU_NAME"/>
		<result property="amount" column="AMOUNT"/>
		<result property="paymentDate" column="PAYMENT_DATE"/>
		<result property="shopNo" column="SHOP_NAME"/>
		<result property="shopName" column="SHOP_NO"/>
	</resultMap>
	
	<!-- select - insert - update - delete -->
	
	<select id=""></select>
	
	<update id="updateUserPoint">
		UPDATE USER SET USER_POINT = #{userPoint } WHERE USER_NO = #{userNo }
				<!-- 아 근데 #{userPoint } 이거 쓰려면 돈쭐 테이블에 포인트가 있어야함..? 아님 조인..? 
								아니면 payment가 아니라 user에서 처리? service 바꿔서..(User service 선언해주고) -->
	</update>
	
	
	
	
	
	<!-- 사업자 가게 테이블 -->
	<resultMap type="Shop" id="shopResultMap">
		<id property="shopNo" column="SHOP_NO"/>
		<result property="shopName" column="SHOP_NAME"/>
		<result property="shopShortAddr" column="SHOP_SHORT_ADDR"/>
		<result property="shopAddr" column="SHOP_ADDR"/>
		<result property="shopTarget" column="SHOP_TARGET"/>
		<result property="shopProduct" column="SHOP_PRODUCT"/>
		<result property="shopType" column="SHOP_TYPE"/>
		<result property="shopFileName" column="SHOP_FILENAME"/>
		<result property="shopFilePath" column="SHOP_FILEPATH"/>
		<result property="shopFileSize" column="SHOP_FILESIZE"/>
		<result property="shopUploadTime" column="SHOP_UPLOADTIME"/>
		<result property="shopPhone" column="SHOP_PHONE"/>
		<result property="shopParking" column="SHOP_PARKING_YN"/>
		<result property="shopMaxReserv" column="SHOP_MAX_RESERVATION"/>
		<result property="shopContent" column="SHOP_CONTENT"/>
		<result property="shopLat" column="SHOP_LAT"/>
		<result property="shopLng" column="SHOP_LNG"/>
		<result property="shopPoint" column="SHOP_POINT"/>
		<result property="shopPointYn" column="SHOP_POINT_YN"/>
		<result property="userNo" column="USER_NO"/>
		<result property="startTime" column="START_TIME"/>
		<result property="endTime" column="END_TIME"/>
		<result property="businessDay" column="BUSINESS_DAY"/>
		
		<!-- <result property="mainMenuNo" column="MAIN_MENU_NO"/> -->
	</resultMap>
	
	
	<!-- 메인 메뉴 테이블 -->
	<resultMap type="MainMenu" id="mainMenuResultMap">
		<id property="mainMenuNo" column="MAIN_MENU_NO"/>
		<result property="mainMenuName" column="MAIN_MENU_NAME"/>
		<result property="mainMenuPrice" column="MAIN_MENU_PRICE"/>
		<result property="shopNo" column="SHOP_NO"/>
	</resultMap>
	
	
	
	<!-- 가게메뉴 출력 -->
	<select id="selectShopMenu" resultMap="mainMenuResultMap">
		SELECT * FROM MAIN_MENU WHERE SHOP_NO = #{shopNo } 
	</select>		

	<select id="selectShop" resultMap="shopResultMap">
		SELECT * FROM SHOP WHERE SHOP_NO = #{shopNo } 
	</select>

	
</mapper>